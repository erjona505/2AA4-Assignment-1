// --------------------------------------------------------
// Code generated by Papyrus Java
// --------------------------------------------------------

package Catan_Part1;

/************************************************************/
/**
 * 
 */
public class Agent {
	/**
	 * 
	 */
	private int id;
	/**
	 * 
	 */
	private int points;
	/**
	 * 
	 */
	private Resources resources;
	/**
	 * 
	 */
	public GameMap gamemap;


	/**
	 * 
	 * @param id 
	 * @param resources 
	 * @param points 
	 */
	public Agent(int id, Resources resources, int points) {
        this.id = id;
        this.resources = resources;
        this.points = points;
	}

    public Resources getResources() {
        return resources;
    }

	/**
	 * 
	 * @return 
	 */
	public int getId() {
        return id;
	}

	/**
	 * 
	 * @return 
	 */
	public int getPoints() {
        return points;
	}

	/**
	 * 
	 * @param map 
	 */
	public void takeTurn(GameMap map) {
	}

	/**
	 * 
	 * @param edgeId 
	 * @param map 
	 * @return boolean
	 */
	public boolean buildRoad(int edgeId, GameMap map) {

        Edge edge = map.getEdge(edgeId);

        if(edge == null || edge.isOccupied()) {
            return false;
        }

        if(map.isRoad(this, edgeId)) {
            return false;
        }

        // Cost: 1 wood, 1 brick
        if(resources.hasResource(ResourceType.WOOD, 1) && resources.hasResource(ResourceType.BRICK, 1)) {
            resources.remove(ResourceType.WOOD, 1);
            resources.remove(ResourceType.BRICK, 1);
            return true;
        }
        return false;
	}

	/**
	 * 
	 * @param nodeId 
	 * @param map 
	 * @return boolean
	 */
	public boolean buildSettlement(int nodeId, GameMap map) {

        Node node = map.getNode(nodeId);
        if(node == null || node.isOccupied()) {
            return false;
        }

        if(map.isSettlement(this, nodeId)) {
            return false;
        }

        // Cost: 1 wood, 1 brick, 1 wheat, 1 sheep
        if(resources.hasResource(ResourceType.WOOD, 1) && resources.hasResource(ResourceType.BRICK, 1)
        && resources.hasResource(ResourceType.WHEAT, 1) && resources.hasResource(ResourceType.SHEEP, 1)) {
            resources.remove(ResourceType.WOOD, 1);
            resources.remove(ResourceType.BRICK, 1);
            resources.remove(ResourceType.WHEAT, 1);
            resources.remove(ResourceType.SHEEP, 1);
            return true;
        }
        return false;
	}

	/**
	 * 
	 * @param nodeId 
	 * @param map 
	 * @return boolean
	 */
	public boolean buildCity(int nodeId, GameMap map) {

        Node node = map.getNode(nodeId);
        if(node == null || node.isOccupied()) {
            return false;
        }

        if(map.isCity(this, nodeId)) {
            return false;
        }

        // Cost: 2 wheat, 3 ore
        if(resources.hasResource(ResourceType.WHEAT, 2) && resources.hasResource(ResourceType.ORE, 3)) {
            resources.remove(ResourceType.WHEAT, 2);
            resources.remove(ResourceType.ORE, 3);
            return true;
        }
        return false;
	}

	/**
	 * 
	 * @return boolean
	 */
	public boolean isSevenCards() {
        return resources.totalCards()>7;
	}

	/**
	 * 
	 * @param points 
	 */
	public void addPoints(int points) {
        this.points += points;
	}
}
